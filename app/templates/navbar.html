<nav class="navbar navbar-expand-lg bg-body-tertiary border-bottom">
    <div class="container">
        <!-- Brand -->
        <a class="navbar-brand fw-semibold" href="{{ url_for('main.index') }}">
            <img src="{{ url_for('static', filename='logo.png') }}"
                 alt="logo"
                 width="30"
                 height="30">
        </a>
        <!-- Mobile toggle -->
        <button class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#menuToggler"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Menu -->
        <div class="collapse navbar-collapse" id="menuToggler">
            <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-2">
                {% if current_user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link{% if request.endpoint and request.endpoint.startswith('main') %} active{% endif %}"
                           href="{{ url_for('main.index') }}">
                            <i class="bi bi-house me-1"></i>
                            Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-danger" href="{{ url_for('auth.logout') }}">
                            <i class="bi bi-box-arrow-right me-1"></i>
                            Logout
                        </a>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link{% if request.endpoint == 'auth.login' %} active{% endif %}"
                           href="{{ url_for('auth.login') }}">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link{% if request.endpoint == 'auth.register' %} active{% endif %}"
                           href="{{ url_for('auth.register') }}">Register</a>
                    </li>
                {% endif %}
                <li class="nav-item">
                    <a class="nav-link{% if request.endpoint == 'main.public_notes' %} active{% endif %}"
                       href="{{ url_for('main.public_notes') }}">
                        <i class="bi bi-globe me-1"></i>
                        Public Notes
                    </a>
                </li>
                <!-- Theme toggle (semantic & accessible) -->
                <li class="nav-item ms-lg-2">
                    <button id="themeToggle"
                            class="btn btn-outline-secondary btn-sm"
                            type="button"
                            aria-label="Toggle dark/light mode"
                            title="Toggle theme">
                        <i class="bi bi-moon"></i>
                    </button>
                </li>
            </ul>
        </div>
    </div>
</nav>
